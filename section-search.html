<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Legal Section Search - New Criminal Laws 2024</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body {
      background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 100%);
      font-family: 'Inter', sans-serif;
    }
    .section-row:hover {
      background-color: #dbeafe;
    }
  </style>
</head>
<body class="min-h-screen p-6">
  <div class="max-w-5xl mx-auto">
    
    <!-- Compact Info Banner -->
    <div class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl shadow-lg p-4 mb-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <i data-lucide="book" class="w-6 h-6"></i>
          <div>
            <h2 class="text-lg font-bold">Understanding India's New Criminal Laws 2024</h2>
            <p class="text-sm text-white/80">Search 70 sections across BNSS, BNS, BSA</p>
          </div>
        </div>
        <button onclick="window.location.href='chatbot.html'" class="flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition text-sm font-medium">
          <i data-lucide="home" class="w-4 h-4"></i> Chatbot
        </button>
      </div>

      <!-- Quick Summary Row -->
      <div class="grid grid-cols-3 gap-3 mt-3">
        <div class="bg-purple-700/50 rounded-lg px-3 py-2 text-center">
          <div class="font-bold text-sm mb-1">BNSS (Procedure)</div>
          <div class="text-xs text-purple-100">FIR, Arrest, Bail, Investigation</div>
        </div>
        <div class="bg-green-700/50 rounded-lg px-3 py-2 text-center">
          <div class="font-bold text-sm mb-1">BNS (Crimes)</div>
          <div class="text-xs text-green-100">Murder, Theft, Fraud, Punishment</div>
        </div>
        <div class="bg-blue-700/50 rounded-lg px-3 py-2 text-center">
          <div class="font-bold text-sm mb-1">BSA (Evidence)</div>
          <div class="text-xs text-blue-100">Electronic Records, Proof, Witness</div>
        </div>
      </div>
    </div>

    <!-- Search Box -->
    <div class="bg-white rounded-2xl shadow-2xl p-6 mb-6">
      <div class="flex items-center gap-3 mb-4">
        <i data-lucide="database" class="w-8 h-8 text-blue-600"></i>
        <div>
          <h1 class="text-2xl font-bold">Legal Section Search</h1>
          <p class="text-sm text-gray-600">70 sections with instant search</p>
        </div>
      </div>

      <!-- Law Filter Tabs -->
      <div class="flex gap-2 mb-4 flex-wrap">
        <button onclick="filterByLaw('ALL')" id="tab-ALL" class="tab-btn px-4 py-2 rounded-lg font-semibold transition bg-indigo-600 text-white">
          ALL <span class="ml-2 text-xs opacity-75" id="count-ALL">(70)</span>
        </button>
        <button onclick="filterByLaw('BNSS')" id="tab-BNSS" class="tab-btn px-4 py-2 rounded-lg font-semibold transition bg-gray-100 text-gray-700 hover:bg-gray-200">
          BNSS <span class="ml-2 text-xs opacity-75" id="count-BNSS">(25)</span>
        </button>
        <button onclick="filterByLaw('BNS')" id="tab-BNS" class="tab-btn px-4 py-2 rounded-lg font-semibold transition bg-gray-100 text-gray-700 hover:bg-gray-200">
          BNS <span class="ml-2 text-xs opacity-75" id="count-BNS">(30)</span>
        </button>
        <button onclick="filterByLaw('BSA')" id="tab-BSA" class="tab-btn px-4 py-2 rounded-lg font-semibold transition bg-gray-100 text-gray-700 hover:bg-gray-200">
          BSA <span class="ml-2 text-xs opacity-75" id="count-BSA">(15)</span>
        </button>
      </div>

      <!-- Search Input -->
      <div class="relative mb-4">
        <div class="flex items-center gap-2 border-2 border-gray-300 rounded-lg focus-within:border-blue-500 bg-white">
          <i data-lucide="search" class="w-5 h-5 text-gray-400 ml-3"></i>
          <input type="text" id="searchInput" placeholder="Type: FIR, arrest, bail, cyber, fraud, murder, electronic evidence..."
            class="flex-1 px-2 py-3 outline-none" oninput="performSearch()" />
        </div>
        <div id="searchStats" class="mt-2 text-sm text-gray-600"></div>
      </div>

      <!-- Results Table -->
      <div class="overflow-x-auto border border-gray-200 rounded-lg">
        <table class="w-full">
          <thead class="bg-gray-50 border-b-2 border-gray-200">
            <tr>
              <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Law</th>
              <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Section</th>
              <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Title</th>
              <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Old Section</th>
              <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Action</th>
            </tr>
          </thead>
          <tbody id="resultsTable">
            <!-- Results will be inserted here -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Selected Section Details -->
    <div id="sectionDetails" class="bg-white rounded-2xl shadow-2xl p-6 hidden">
      <div class="flex items-center gap-3 mb-4">
        <span id="detailBadge" class="px-4 py-2 rounded-lg text-lg font-bold border-2"></span>
        <div id="detailOldSection" class="px-3 py-1 bg-gray-100 rounded-lg text-sm text-gray-600"></div>
      </div>
      <h2 id="detailTitle" class="text-2xl font-bold text-gray-900 mb-4"></h2>
      <div class="bg-blue-50 rounded-lg p-4 mb-4">
        <h3 class="font-semibold text-blue-900 mb-2 flex items-center gap-2">
          <i data-lucide="search" class="w-4 h-4"></i>
          Search Terms for India Code:
        </h3>
        <div id="detailSearchTerms" class="flex flex-wrap gap-2"></div>
      </div>
      <div class="bg-green-50 rounded-lg p-4 mb-4">
        <h3 class="font-semibold text-green-900 mb-2">Related Keywords:</h3>
        <p id="detailKeywords" class="text-sm text-green-800"></p>
      </div>
      <a id="detailLink" href="#" target="_blank" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
        <i data-lucide="external-link" class="w-5 h-5"></i> Open in India Code Portal
      </a>
    </div>

  </div>

  <script>
    // Database (using your full 70 sections - abbreviated here for space)
    const DATABASE = [
      {id: 1, law: "BNSS", section: "173", title: "Information in cognizable cases", keywords: "FIR, First Information Report, police complaint, cognizable offence, register complaint, police station, lodge FIR", searchTerms: "Section 173, cognizable, Information", oldSection: "CrPC Section 154", link: "https://www.indiacode.nic.in/handle/123456789/20099"},
      {id: 2, law: "BNSS", section: "174", title: "Information as to non-cognizable cases", keywords: "non-cognizable, minor offences, permission", searchTerms: "Section 174, non-cognizable", oldSection: "CrPC Section 155", link: "https://www.indiacode.nic.in/handle/123456789/20099"},
      {id: 3, law: "BNSS", section: "175", title: "Investigation of cognizable cases", keywords: "investigation, police investigation, inquiry", searchTerms: "Section 175, investigation", oldSection: "CrPC Section 156", link: "https://www.indiacode.nic.in/handle/123456789/20099"},
      {id: 4, law: "BNSS", section: "35", title: "Arrest by police officer without warrant", keywords: "arrest, police arrest, custody, detention, warrant arrest", searchTerms: "Section 35, arrest, police", oldSection: "CrPC Section 41", link: "https://www.indiacode.nic.in/handle/123456789/20099"},
      {id: 5, law: "BNSS", section: "479", title: "Bail in non-bailable offences", keywords: "bail, non-bailable, surety, release, bond", searchTerms: "Section 479, bail", oldSection: "CrPC Section 437", link: "https://www.indiacode.nic.in/handle/123456789/20099"},
      {id: 6, law: "BNSS", section: "480", title: "Anticipatory bail", keywords: "anticipatory bail, pre-arrest bail, advance bail", searchTerms: "Section 480, anticipatory, bail", oldSection: "CrPC Section 438", link: "https://www.indiacode.nic.in/handle/123456789/20099"},
      {id: 7, law: "BSA", section: "63", title: "Admissibility of electronic records", keywords: "electronic evidence, digital evidence, cyber evidence, computer records", searchTerms: "Section 63, electronic, admissibility", oldSection: "Evidence Act Section 65B", link: "https://www.indiacode.nic.in/handle/123456789/20063"},
      {id: 8, law: "BSA", section: "61", title: "Electronic or digital record", keywords: "digital record, electronic data, computer data", searchTerms: "Section 61, electronic, digital", oldSection: "Evidence Act Section 65A", link: "https://www.indiacode.nic.in/handle/123456789/20063"},
      {id: 9, law: "BNS", section: "103", title: "Punishment for murder", keywords: "murder, killing, homicide, death penalty, life imprisonment", searchTerms: "Section 103, murder", oldSection: "IPC Section 302", link: "https://www.indiacode.nic.in/handle/123456789/20062"},
      {id: 10, law: "BNS", section: "63", title: "Rape", keywords: "rape, sexual assault, sexual violence, without consent", searchTerms: "Section 63, rape", oldSection: "IPC Section 375", link: "https://www.indiacode.nic.in/handle/123456789/20062"},
      {id: 11, law: "BNS", section: "303", title: "Theft", keywords: "theft, stealing, dishonestly taking, movable property", searchTerms: "Section 303, theft", oldSection: "IPC Section 378", link: "https://www.indiacode.nic.in/handle/123456789/20062"},
      {id: 12, law: "BNS", section: "316", title: "Cheating", keywords: "cheating, fraud, deception, dishonestly deceive, scam", searchTerms: "Section 316, cheating, fraud", oldSection: "IPC Section 415", link: "https://www.indiacode.nic.in/handle/123456789/20062"},
      {id: 13, law: "BNS", section: "319", title: "Cheating and dishonestly inducing delivery of property", keywords: "fraud, online fraud, cyber fraud, property fraud, financial fraud, 420", searchTerms: "Section 319, cheating", oldSection: "IPC Section 420", link: "https://www.indiacode.nic.in/handle/123456789/20062"},
      {id: 14, law: "BNS", section: "137", title: "Kidnapping", keywords: "kidnapping, abduction, child kidnapping, minor abduction", searchTerms: "Section 137, kidnapping", oldSection: "IPC Section 359", link: "https://www.indiacode.nic.in/handle/123456789/20062"}
      // Add remaining 56 sections here from your full database
    ];

    let currentFilter = 'ALL';
    let currentResults = [...DATABASE];

    function getLawColor(law) {
      const colors = {
        'BNS': 'bg-green-100 text-green-800 border-green-300',
        'BNSS': 'bg-purple-100 text-purple-800 border-purple-300',
        'BSA': 'bg-blue-100 text-blue-800 border-blue-300'
      };
      return colors[law] || 'bg-gray-100 text-gray-800 border-gray-300';
    }

    function filterByLaw(law) {
      currentFilter = law;
      
      // Update button states
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.className = 'tab-btn px-4 py-2 rounded-lg font-semibold transition bg-gray-100 text-gray-700 hover:bg-gray-200';
      });
      
      const activeBtn = document.getElementById(`tab-${law}`);
      if (law === 'ALL') {
        activeBtn.className = 'tab-btn px-4 py-2 rounded-lg font-semibold transition bg-indigo-600 text-white';
      } else if (law === 'BNSS') {
        activeBtn.className = 'tab-btn px-4 py-2 rounded-lg font-semibold transition bg-purple-600 text-white';
      } else if (law === 'BNS') {
        activeBtn.className = 'tab-btn px-4 py-2 rounded-lg font-semibold transition bg-green-600 text-white';
      } else if (law === 'BSA') {
        activeBtn.className = 'tab-btn px-4 py-2 rounded-lg font-semibold transition bg-blue-600 text-white';
      }
      
      performSearch();
    }

    function performSearch() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      
      // Filter by law
      let filtered = currentFilter === 'ALL' ? [...DATABASE] : DATABASE.filter(s => s.law === currentFilter);
      
      // Filter by search query
      if (query.length >= 2) {
        filtered = filtered.filter(section => {
          const searchableText = `${section.law} ${section.section} ${section.title} ${section.keywords} ${section.oldSection}`.toLowerCase();
          return searchableText.includes(query);
        });
      }
      
      currentResults = filtered;
      renderResults();
    }

    function renderResults() {
      const tbody = document.getElementById('resultsTable');
      tbody.innerHTML = '';
      
      if (currentResults.length === 0) {
        tbody.innerHTML = '<tr><td colspan="5" class="px-4 py-8 text-center text-gray-500">No sections found. Try different keywords.</td></tr>';
        document.getElementById('searchStats').textContent = 'No results found';
        return;
      }
      
      currentResults.forEach(section => {
        const row = document.createElement('tr');
        row.className = 'section-row border-b border-gray-100 cursor-pointer';
        row.onclick = () => showSectionDetails(section);
        
        row.innerHTML = `
          <td class="px-4 py-3">
            <span class="px-2 py-1 rounded text-xs font-semibold ${getLawColor(section.law)}">${section.law}</span>
          </td>
          <td class="px-4 py-3 font-mono font-semibold text-gray-900">${section.section}</td>
          <td class="px-4 py-3 text-sm text-gray-800">${section.title}</td>
          <td class="px-4 py-3 text-xs text-gray-600">${section.oldSection}</td>
          <td class="px-4 py-3">
            <a href="${section.link}" target="_blank" onclick="event.stopPropagation()" class="text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1">
              Open <i data-lucide="external-link" class="w-3 h-3"></i>
            </a>
          </td>
        `;
        
        tbody.appendChild(row);
      });
      
      lucide.createIcons();
      
      document.getElementById('searchStats').innerHTML = `
        <i data-lucide="book" class="w-4 h-4 inline"></i> 
        Showing ${currentResults.length} ${currentFilter === 'ALL' ? '' : currentFilter} section${currentResults.length === 1 ? '' : 's'}
      `;
      lucide.createIcons();
    }

    function showSectionDetails(section) {
      const detailsDiv = document.getElementById('sectionDetails');
      detailsDiv.classList.remove('hidden');
      
      document.getElementById('detailBadge').textContent = `${section.law} ยง${section.section}`;
      document.getElementById('detailBadge').className = `px-4 py-2 rounded-lg text-lg font-bold border-2 ${getLawColor(section.law)}`;
      
      document.getElementById('detailOldSection').textContent = `Replaces: ${section.oldSection}`;
      document.getElementById('detailTitle').textContent = section.title;
      
      const searchTermsDiv = document.getElementById('detailSearchTerms');
      searchTermsDiv.innerHTML = '';
      section.searchTerms.split(',').forEach(term => {
        const code = document.createElement('code');
        code.className = 'px-2 py-1 bg-white rounded text-sm text-blue-700 font-mono';
        code.textContent = term.trim();
        searchTermsDiv.appendChild(code);
      });
      
      document.getElementById('detailKeywords').textContent = section.keywords;
      document.getElementById('detailLink').href = section.link;
      
      detailsDiv.scrollIntoView({ behavior: 'smooth' });
      lucide.createIcons();
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderResults();
      lucide.createIcons();
    });
  </script>
</body>
</html>
